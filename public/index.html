<!doctype html>
<html lang="en">
  <style></style>
  <head>
    <title>Ghost || Home</title>
    <script src="/assets/js/nav.js"></script>
    <script src="/assets/js/kit.js" crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" id="favicon" href="/assets/img/Ghost.png" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,500,1,0"/>
    <link rel="stylesheet" href="/assets/styles.css" />
    <script src="/assets/js/onload.js" type="module"></script>
    <script src="/search/uv.bundle.js" defer></script>
    <script src="/search/uv.config.js" defer></script>
    <script src="/assets/components/shadowroot.js"></script>
    <script src="/assets/script.js"></script>
    <meta name="title" content="Ghost" />
    <meta name="theme-color" content="#e9a40e" />
    <meta name="description" content="A Pretty Spooky Site >:D" />
    <script src="/config.js"></script>
    <style>
      .input {
      border-radius: 5px;
      background-color: var(--Background-Color);
      border: .25px solid white;
      width: 400px;
      height: 50px;
      color: white;
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);

      }
    </style>
  </head>

  <body>
    <div class="changeLogs">

    </div>
    <nav class="navbar" id="nav"></nav>
    <input type="form" id="searchBar" class="input" style="z-index: 20;" placeholder=" Search Or Enter A URL">
    <center>
      <br />
      <br />
    <p class="ex2" style="animation: fadeIn 2s">Ghost</p>
      <div
        style="margin: 0; padding-top: 0; padding: 0; display: inline"
        class="te"
      >
        <p style="margin: 0; padding-top: 0" style="animation: fadeIn 2s">
          <span style="animation: owo 0.5s">A </span>
          <span style="animation: owo 0.5s; animation-delay: 0.5s">cool</span>
          <span style="animation: owo 0.5s; animation-delay: 1s; color: #e9a40e;"> spooky</span>
          <span style="animation: owo 0.5s; animation-delay: 1.5s; color: #e9a40e">
            Website</span
          >
            <span
            style="animation: owo 0.5s; animation-delay: 2s; color: #e9a40e"
          >
            >:D</span
          >
        </p>
      </div>
      <button class="button2" onclick="blank()"><shadow-element txt="Open in about:blank"><shadow-element></button>
      <button class="button2" onclick="search()">Search Something!</button>
      <div class="trendingtop">
        <center>
          <shadow-element txt="<h1>Recommended g</x>ames<h1>"></shadow-element>
        </center>
      </div>
      <div class="trendingbottom" id="trendingg">
      </div>
      <div class="trendingtop">
        <center>
          <sh><shadow-element txt="<h1>Recommended Ap<x>ps</x></h1>"></shadow-element>
        </center>
      </div>
      <div
        class="trendingbottom"
        id="trendinga"
        style="margin-bottom: 10px"
      ></div>
    </center>
    <br />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-WFWKKRRXLT"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];

      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-WFWKKRRXLT");
    </script>
    <script>
      let rgAPI = '/api/rg/v1/';
      const uvvers = localStorage.getItem('UVver')
      //load g and a
      addEventListener("DOMContentLoaded", async (event) => {
        const gData = await fetch(rgAPI).then((response) => response.text()).then((text) => {return JSON.parse(text)});
        gData.forEach((game) => {
          const i = document.getElementById("trendingg");
          const g = document.createElement("div");
          g.classList.add("game-icon");
          if(uvvers === '2') {
          g.setAttribute(
            "onclick",
            "localStorage.setItem('url', '" +
              '/u/query/' + __uv$config.encodeUrl(game.href) +
              "'); window.location.href = '/q/'",
          );
          }else {
            g.setAttribute(
            "onclick",
            "localStorage.setItem('url', '" +
              '/search/' + __uv$config.encodeUrl(game.href) +
              "'); window.location.href = '/q/'",
          );
          }

          const img = document.createElement("button");
          const image = document.createElement("img");
          image.src = game.img;

          const gname = document.createElement("p");
          gname.innerText = game.name;

          img.appendChild(image);
          g.appendChild(img);
          g.appendChild(gname);
          i.appendChild(g);
        });
      });
      //load g and a
      let raAPI = '/api/ra/v1/';
      addEventListener("DOMContentLoaded", async (event) => {
        const gData = await fetch(raAPI).then((response) => response.text()).then((text) => {return JSON.parse(text)});
        gData.forEach((game) => {
          const i = document.getElementById("trendinga");

          const g = document.createElement("div");
          g.classList.add("game-icon");
          if(uvvers === '2') {
          g.setAttribute(
            "onclick",
            "localStorage.setItem('url', '" +
              '/u/query/' + __uv$config.encodeUrl(game.href) +
              "'); window.location.href = '/q/'",
          );
          }else {
            g.setAttribute(
            "onclick",
            "localStorage.setItem('url', '" +
              '/search/' + __uv$config.encodeUrl(game.href) +
              "'); window.location.href = '/q/'",
          );
          }

          const img = document.createElement("button");
          const image = document.createElement("img");
          image.src = game.img;

          const gname = document.createElement("p");
          gname.innerText = game.name;

          img.appendChild(image);
          g.appendChild(img);
          g.appendChild(gname);
          i.appendChild(g);
        });
      });
      function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function getRandomLink() {
        let csites = [
          "https://google.com",
          "https://classroom.google.com",
          "https://docs.google.com",
          "https://nasa.gov",
          "https://desmos.com",
          "https://clever.com",
          "https://ixl.com",
        ] 
        return csites[getRandomInt(0, csites.length-1)]
      }
      function blank() {
        var currentUrl = top.location.href;
        if (currentUrl === "about:blank") {
          console.log(currentUrl);
        } else {
          var win = window.open();
          var url = "/";
          var iframe = win.document.createElement("iframe");
          top.location.replace(getRandomLink());
          iframe.style.position = "fixed";
          iframe.style.top = 0;
          iframe.style.bottom = 0;
          iframe.style.left = 0;
          iframe.style.right = 0;
          iframe.style.border = "none";
          iframe.style.outline = "none";
          iframe.style.width = "100%";
          iframe.style.height = "100%";
          iframe.src = url;

          win.document.body.appendChild(iframe);
        }
      }

     function search() {
      const searchBar = document.getElementById('searchBar')
      searchBar.style.display = 'block'
      searchBar.addEventListener('blur', function(event) {
        clickOff()
      })
      
     }

     function clickOff() {
      const searchBar = document.getElementById('searchBar')
            searchBar.style.display = 'none'
     }
    </script>
  </body>
</html>
